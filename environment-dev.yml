name: meetspot-dev
channels:
  - conda-forge
  - defaults

dependencies:
  # Python版本
  - python=3.11

  # 核心Web框架
  - fastapi=0.116.1
  - uvicorn=0.35.0
  - pydantic=2.11.7
  - pydantic-core=2.33.2

  # HTTP客户端
  - httpx=0.28.1
  - aiohttp=3.12.15
  - aiofiles=24.1.0

  # 模板引擎
  - jinja2=3.1.6

  # 表单处理
  - python-multipart=0.0.20

  # 日志
  - loguru=0.7.3

  # 配置解析
  - tomli=2.1.0

  # 日期处理
  - python-dateutil=2.9.0

  # 测试工具
  - pytest>=7.4.0
  - pytest-cov>=4.1.0
  - pytest-asyncio>=0.21.0
  - pytest-mock>=3.11.0

  # 代码质量工具
  - black>=23.7.0           # 代码格式化
  - ruff>=0.1.0             # 快速linter
  - mypy>=1.5.0             # 类型检查
  - isort>=5.12.0           # import排序

  # 开发工具
  - ipython>=8.14.0         # 增强REPL
  - ipdb>=0.13.13           # 调试器
  - pre-commit>=3.3.0       # Git hooks

  # 文档生成
  - sphinx>=7.1.0
  - sphinx-rtd-theme>=1.3.0

  # Web开发工具
  - beautifulsoup4>=4.12.0  # HTML解析（SEO验证）
  - requests>=2.31.0        # HTTP请求（测试）

  # 性能分析
  - py-spy>=0.3.14          # 性能分析器
  - memory_profiler>=0.61.0 # 内存分析

  # pip依赖（conda-forge暂无的包）
  - pip
  - pip:
      - jieba==0.42.1
      - whitenoise==6.6.0
      - slowapi==0.1.9
      - markdown2==2.4.12
      # 开发专用
      - bandit>=1.7.5          # 安全检查
      - vulture>=2.9.1         # 死代码检测
      # 注意：lighthouse-ci通过npm安装，不是Python包

  # 系统工具
  - git
  - make
  - nodejs>=18.0.0           # Lighthouse需要

# 环境变量
variables:
  PYTHONPATH: "${CONDA_PREFIX}/lib/python3.11/site-packages"
  AMAP_API_KEY: ""
  ENVIRONMENT: "development"
